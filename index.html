<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>APP B√ÄI T·∫¨P TR·∫ÆC NGHI·ªÜM H√ìA H·ªåC</title>

  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.json" />

  <style>
    .btn.option { margin: 5px 5px 5px 0; }
    .option.correct { background-color: #4CAF50; color: white; }
    .option.incorrect { background-color: #f44336; color: white; }
    .next-round {
      margin-top: 15px;
      background-color: #2196F3;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
    }
    .next-round:hover { background-color: #0b7dda; }
    .btn-mic {
      background: #fff;
      border: 2px solid #4f46e5;
      border-radius: 50%;
      width: 42px;
      height: 42px;
      font-size: 18px;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <header class="app-header">
    <div class="header-layout">
      <div class="logo-box">
        <img src="assets/images/logo.png" alt="Logo tr∆∞·ªùng" class="logo" />
      </div>
      <div class="text-box">
        <div class="text-inner">
          <p class="school-name">
            TR∆Ø·ªúNG TH V√Ä THCS C√Ä N√ÄNG, X√É M∆Ø·ªúNG CHI√äN, T·ªàNH S∆†N LA
          </p>
          <h1 class="app-title">APP B√ÄI T·∫¨P TR·∫ÆC NGHI·ªÜM H√ìA H·ªåC</h1>
          <p class="app-slogan">
            *H√≥a h·ªçc l√† c√¢y c·∫ßu n·ªëi gi·ªØa khoa h·ªçc v√† cu·ªôc s·ªëng*
          </p>
          <p class="app-slogan">
            *Hi·ªÉu ƒë∆∞·ª£c H√≥a h·ªçc l√† hi·ªÉu th·∫ø gi·ªõi v·∫≠n h√†nh nh∆∞ th·∫ø n√†o*
          </p>
        </div>
      </div>
    </div>
    <div class="bubble-zone"></div>
  </header>

  <main class="app-main">
    <section class="panel">
      <label for="topic" class="form-label">üîç Ch·ªçn ch·ªß ƒë·ªÅ:</label>
      <select id="topic" class="select">
        <option value="BTKL">ƒê·ªãnh lu·∫≠t BTKL</option>
        <option value="C√¢n b·∫±ng PTHH">C√¢n b·∫±ng PTHH</option>
        <option value="Li√™n k·∫øt h√≥a h·ªçc">Li√™n k·∫øt h√≥a h·ªçc</option>
      </select>

      <div class="actions">
        <!-- N√öT MICRO ‚Äì K√çCH HO·∫†T AI GI·ªåNG N√ìI -->
        <button id="micBtn" class="btn-mic" title="N√≥i ƒë·ªÉ ra l·ªánh">üé§</button>

        <button id="generateQuiz" class="btn primary">üß¨ T·∫°o b√†i t·∫≠p</button>
        <button id="submitQuiz" class="btn success" disabled>üì§ N·ªôp b√†i</button>
        <button id="funQuiz" class="btn fun">üéØ ƒê·ªë vui</button>
      </div>
    </section>

    <section id="quizContainer" class="quiz"></section>

    <section id="results" class="results" hidden>
      <h2>K·∫øt qu·∫£</h2>
      <div id="scoreSummary"></div>
      <div id="explanations"></div>
      <button id="practiceButton" class="btn" hidden>üîÅ Luy·ªán ti·∫øp</button>
    </section>
  </main>

  <audio id="clapSound" preload="auto">
    <source src="assets/sounds/clap.mp3" type="audio/mpeg" />
  </audio>

  <audio id="ehSound" preload="auto">
    <source src="assets/sounds/eh.mp3" type="audio/mpeg" />
  </audio>

  <!-- CORE LOGIC (KH√îNG ƒê·ªòNG) -->
  <script src="js/aiHelper.js" defer></script>
  <script src="js/quiz.js" defer></script>

  <!-- AI INTENT + VOICE CONTROLLER -->
  <script src="js/engine/intentEngine.js"></script>
  <script src="js/voiceAndSimulation.js"></script>

  <!-- HI·ªÜU ·ª®NG BONG B√ìNG -->
  <script>
    function createAtomBubble() {
      const bubble = document.createElement("div");
      const atoms = ["O", "H", "N", "C"];
      bubble.classList.add("atom-bubble");
      bubble.textContent = atoms[Math.floor(Math.random() * atoms.length)];
      bubble.style.left = Math.random() * window.innerWidth + "px";
      bubble.style.animationDuration = (6 + Math.random() * 4) + "s";
      document.querySelector(".bubble-zone").appendChild(bubble);
      setTimeout(() => bubble.remove(), 10000);
    }
    setInterval(createAtomBubble, 800);
  </script>
</body>
</html>
